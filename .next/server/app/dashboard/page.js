(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(9521),s(1506),s(5866);var r=s(3191),n=s(8716),i=s(7922),a=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9521)),"C:\\Users\\pte\\Desktop\\hackathon-2\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\pte\\Desktop\\hackathon-2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\pte\\Desktop\\hackathon-2\\app\\dashboard\\page.tsx"],u="/dashboard/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7551:(e,t,s)=>{Promise.resolve().then(s.bind(s,2453))},1230:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1198:()=>{},2453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),n=s(7577),i=s(5047),a=s(339),o=s(4749),l=s(295),d=s(3965);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let s=(0,n.useId)(),i=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,n.useContext)(d._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:r,top:n,left:l}=a.current;if(t||!i.current||!e||!r)return;i.current.dataset.motionPopId=s;let d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${n}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),(0,r.jsx)(c,{isPresent:t,childRef:i,sizeRef:a,children:n.cloneElement(e,{ref:i})})}let p=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:d,mode:c})=>{let p=(0,o.h)(h),m=(0,n.useId)(),x=(0,n.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;i&&i()},[p,i]),g=(0,n.useMemo)(()=>({id:m,initial:t,isPresent:s,custom:a,onExitComplete:x,register:e=>(p.set(e,!1),()=>p.delete(e))}),d?[Math.random(),x]:[s,x]);return(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[s]),n.useEffect(()=>{s||p.size||!i||i()},[s]),"popLayout"===c&&(e=(0,r.jsx)(u,{isPresent:s,children:e})),(0,r.jsx)(l.O.Provider,{value:g,children:e})};function h(){return new Map}var m=s(6933);let x=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var f=s(2482);let b=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:d="sync",propagate:c=!1})=>{let[u,h]=(0,m.oO)(c),b=(0,n.useMemo)(()=>g(e),[e]),y=c&&!u?[]:b.map(x),v=(0,n.useRef)(!0),k=(0,n.useRef)(b),j=(0,o.h)(()=>new Map),[w,N]=(0,n.useState)(b),[C,P]=(0,n.useState)(b);(0,f.L)(()=>{v.current=!1,k.current=b;for(let e=0;e<C.length;e++){let t=x(C[e]);y.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[C,y.length,y.join("-")]);let L=[];if(b!==w){let e=[...b];for(let t=0;t<C.length;t++){let s=C[t],r=x(s);y.includes(r)||(e.splice(t,0,s),L.push(s))}"wait"===d&&L.length&&(e=L),P(g(e)),N(b);return}let{forceRender:S}=(0,n.useContext)(a.p);return(0,r.jsx)(r.Fragment,{children:C.map(e=>{let n=x(e),a=(!c||!!u)&&(b===C||y.includes(n));return(0,r.jsx)(p,{isPresent:a,initial:(!v.current||!!s)&&void 0,custom:a?void 0:t,presenceAffectsLayout:l,mode:d,onExitComplete:a?void 0:()=>{if(!j.has(n))return;j.set(n,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),P(k.current),c&&(null==h||h()),i&&i())},children:e},n)})})};var y=s(58);function v(){let e=(0,i.useRouter)(),[t,s]=(0,n.useState)([]),[a,o]=(0,n.useState)(""),[l,d]=(0,n.useState)("normal"),[c,u]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[g,f]=(0,n.useState)("all"),[v,k]=(0,n.useState)(null),[j,w]=(0,n.useState)(null),[N,C]=(0,n.useState)(!0),[P,L]=(0,n.useState)(!1),S=async e=>{if(e.preventDefault(),a.trim()&&!P){L(!0);try{let e={description:a.trim(),priority:l,tags:p.trim()?[p.trim()]:[],dueDate:c||null},r=await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();s([...t,e.task]),o(""),d("normal"),u(""),h("")}}catch(e){console.error("Failed to create task:",e)}finally{L(!1)}}},D=async e=>{try{let r=await fetch(`/api/todos/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!e.completed})});if(r.ok){let n=await r.json();s(t.map(t=>t.id===e.id?n.task:t))}}catch(e){console.error("Failed to toggle task:",e)}},E=async e=>{if(j!==e){w(e);return}try{(await fetch(`/api/todos/${e}`,{method:"DELETE"})).ok&&(s(t.filter(t=>t.id!==e)),w(null))}catch(e){console.error("Failed to delete task:",e)}},A=async e=>{if(!v||v.id!==e.id){k(e);return}try{let r=await fetch(`/api/todos/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:v.description,priority:v.priority,tags:v.tags,dueDate:v.dueDate})});if(r.ok){let n=await r.json();s(t.map(t=>t.id===e.id?n.task:t)),k(null)}}catch(e){console.error("Failed to update task:",e)}},$=t.filter(e=>("completed"!==g||!!e.completed)&&("pending"!==g||!e.completed)&&(!m||!!e.description.toLowerCase().includes(m.toLowerCase()))),_=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),e.push("/login"),e.refresh()}catch(e){console.error("Logout failed:",e)}};return N?r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:r.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):r.jsx("div",{className:"min-h-screen bg-black p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("header",{className:"mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-4xl font-display font-bold text-white",children:"pookie todo"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"your tasks, organized with love"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>e.push("/analytics"),className:"px-4 py-2 text-sm bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-md hover:from-pink-600 hover:to-purple-700 transition-default font-semibold",children:"\uD83D\uDCCA Analytics"}),r.jsx("button",{onClick:_,className:"px-4 py-2 text-sm bg-white text-black rounded-md hover:bg-gray-200 transition-default",children:"Logout"})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 md:p-8 mb-6",children:(0,r.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Add a new task...",className:"flex-1 h-12 px-4 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-default text-black"}),r.jsx("button",{type:"submit",disabled:!a.trim()||P,className:"px-6 h-12 bg-pink-500 text-white font-semibold rounded-md hover:bg-pink-600 hover:-translate-y-0.5 hover:shadow-md active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed transition-default",children:P?"Adding...":"Add"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Priority"}),(0,r.jsxs)("select",{value:l,onChange:e=>d(e.target.value),className:"w-full h-10 px-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 transition-default text-black",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Deadline"}),r.jsx("input",{type:"date",value:c,onChange:e=>u(e.target.value),className:"w-full h-10 px-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 transition-default text-black"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"e.g., Work, Personal",className:"w-full h-10 px-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 transition-default text-black"})]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[r.jsx("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Search tasks...",className:"flex-1 h-10 px-4 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 transition-default text-black"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>f("all"),className:`px-4 h-10 rounded-md font-medium transition-default ${"all"===g?"bg-pink-500 text-white":"bg-gray-100 text-black hover:bg-gray-200"}`,children:"All"}),r.jsx("button",{onClick:()=>f("pending"),className:`px-4 h-10 rounded-md font-medium transition-default ${"pending"===g?"bg-pink-500 text-white":"bg-gray-100 text-black hover:bg-gray-200"}`,children:"Pending"}),r.jsx("button",{onClick:()=>f("completed"),className:`px-4 h-10 rounded-md font-medium transition-default ${"completed"===g?"bg-pink-500 text-white":"bg-gray-100 text-black hover:bg-gray-200"}`,children:"Completed"})]})]})}),t.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[t.filter(e=>e.completed).length," of ",t.length," completed"]}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-pink-500",children:[Math.round(t.filter(e=>e.completed).length/t.length*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-pink-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.filter(e=>e.completed).length/t.length*100}%`}})})]}),r.jsx("div",{className:"space-y-3",children:r.jsx(b,{mode:"popLayout",children:0===$.length?(0,r.jsxs)(y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"âœ¨"}),r.jsx("h3",{className:"text-xl font-display font-semibold text-black mb-2",children:0===t.length?"No tasks yet":"No tasks found"}),r.jsx("p",{className:"text-gray-600",children:0===t.length?"Add your first task to get started":"Try adjusting your filters"})]}):$.map((e,t)=>{let s=v?.id===e.id,n=j===e.id;return(0,r.jsxs)(y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:.05*t},className:"bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition-default",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[r.jsx("button",{onClick:()=>D(e),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-default mt-1 ${e.completed?"bg-pink-500 border-pink-500":"border-gray-300 hover:border-pink-500"}`,children:e.completed&&r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M5 13l4 4L19 7"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[s?r.jsx("input",{type:"text",value:v.description,onChange:e=>k({...v,description:e.target.value}),className:"w-full px-3 py-1 bg-white border border-pink-500 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-black"}):r.jsx("p",{className:`font-medium ${e.completed?"line-through text-gray-400":"text-black"}`,children:e.description}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${"critical"===e.priority?"bg-purple-100 text-purple-700":"high"===e.priority?"bg-red-100 text-red-700":"normal"===e.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:e.priority}),e.tags&&e.tags.length>0&&e.tags.map((e,t)=>r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-pink-100 text-pink-700 font-medium",children:e},t)),e.dueDate&&(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-black font-medium",children:["\uD83D\uDCC5 ",new Date(e.dueDate).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>A(e),className:`p-2 rounded-md transition-default ${s?"bg-pink-500 text-white":"text-pink-500 hover:bg-pink-50"}`,title:s?"Save":"Edit",children:s?r.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>E(e.id),className:`p-2 rounded-md transition-default ${n?"bg-red-500 text-white":"text-red-500 hover:bg-red-50"}`,title:n?"Click again to confirm":"Delete",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),n&&r.jsx("div",{className:"mt-2 text-sm text-red-500 font-medium",children:"Click delete again to confirm"})]},e.id)})})})]})})}},9521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\pte\Desktop\hackathon-2\app\dashboard\page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>l});var r=s(9510),n=s(4976),i=s.n(n),a=s(7844),o=s.n(a);s(7272);let l={title:"Pookie Todo - Your AI Task Assistant",description:"A delightful AI-powered todo application with natural language processing"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().variable+" "+o().variable,children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,583,672],()=>s(6658));module.exports=r})();