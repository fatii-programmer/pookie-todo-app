(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{9206:function(e,t,s){Promise.resolve().then(s.bind(s,6767))},6767:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),i=s(2265),l=s(9376),n=s(521);function c(){let e=(0,l.useRouter)(),[t,s]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0);(0,i.useEffect)(()=>{r()},[]);let r=async()=>{try{let t=await fetch("/api/analytics");if(401===t.status){e.push("/login");return}let a=await t.json();s(a.stats)}catch(e){console.error("Failed to fetch analytics:",e)}finally{d(!1)}};return c?(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-lg",children:"Loading analytics..."})}):t?(0,a.jsx)("div",{className:"min-h-screen bg-black p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("header",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-display font-bold text-white",children:"Productivity Analytics"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Track your progress and boost your productivity"})]}),(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"px-4 py-2 text-sm bg-white text-black rounded-md hover:bg-gray-200 transition-default",children:"Back to Dashboard"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl p-6 text-white",children:[(0,a.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"Total Tasks"}),(0,a.jsx)("div",{className:"text-4xl font-bold",children:t.totalTasks})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 text-white",children:[(0,a.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"Completed"}),(0,a.jsx)("div",{className:"text-4xl font-bold",children:t.completedTasks}),(0,a.jsxs)("div",{className:"text-sm opacity-75 mt-2",children:[t.completionRate.toFixed(1),"% completion rate"]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl p-6 text-white",children:[(0,a.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"Current Streak"}),(0,a.jsx)("div",{className:"text-4xl font-bold",children:t.currentStreak}),(0,a.jsxs)("div",{className:"text-sm opacity-75 mt-2",children:["Longest: ",t.longestStreak," days"]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-xl p-6 text-white",children:[(0,a.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"Avg Completion"}),(0,a.jsx)("div",{className:"text-4xl font-bold",children:(e=>{if(!e)return"N/A";let t=Math.floor(e/36e5),s=Math.floor(t/24);return s>0?"".concat(s,"d ").concat(t%24,"h"):t>0?"".concat(t,"h"):"".concat(Math.floor(e/6e4),"m")})(t.averageCompletionTime)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"Today"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Created"}),(0,a.jsx)("span",{className:"font-semibold text-black",children:t.tasksCreatedToday})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Completed"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:t.tasksCompletedToday})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"This Week"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Created"}),(0,a.jsx)("span",{className:"font-semibold text-black",children:t.tasksCreatedThisWeek})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Completed"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:t.tasksCompletedThisWeek})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"This Month"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Created"}),(0,a.jsx)("span",{className:"font-semibold text-black",children:t.tasksCreatedThisMonth})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Completed"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:t.tasksCompletedThisMonth})]})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"Priority Distribution"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-700",children:t.priorityDistribution.low}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Low"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-700",children:t.priorityDistribution.normal}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Normal"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-red-700",children:t.priorityDistribution.high}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"High"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-700",children:t.priorityDistribution.critical}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Critical"})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-xl p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"Most Productive Days"}),(0,a.jsx)("div",{className:"space-y-3",children:t.completionsByDay.sort((e,t)=>t.count-e.count).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-24 text-gray-600",children:e.day}),(0,a.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-8 relative overflow-hidden",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 h-full rounded-full flex items-center justify-end px-3 text-white text-sm font-semibold transition-all",style:{width:"".concat(Math.max(e.count/Math.max(...t.completionsByDay.map(e=>e.count))*100,5),"%")},children:e.count>0&&e.count})})]},s))})]}),Object.keys(t.categoryStats).length>0&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-xl p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"Tasks by Category"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:Object.entries(t.categoryStats).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s}).map((e,t)=>{let[s,i]=e;return(0,a.jsxs)("div",{className:"px-4 py-2 bg-pink-100 text-pink-700 rounded-full font-medium",children:[s,": ",i]},t)})})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-xl p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"30-Day Productivity Trend"}),(0,a.jsx)("div",{className:"h-64 flex items-end gap-1",children:t.productivityTrend.slice(-30).map((e,s)=>{let i=Math.max(...t.productivityTrend.map(e=>Math.max(e.created,e.completed))),l=i>0?e.created/i*100:0,n=i>0?e.completed/i*100:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-end gap-1 min-w-0",title:e.date,children:[(0,a.jsx)("div",{className:"bg-blue-500 rounded-t transition-all hover:bg-blue-600",style:{height:"".concat(l,"%"),minHeight:e.created>0?"4px":"0"}}),(0,a.jsx)("div",{className:"bg-green-500 rounded-t transition-all hover:bg-green-600",style:{height:"".concat(n,"%"),minHeight:e.completed>0?"4px":"0"}})]},s)})}),(0,a.jsxs)("div",{className:"flex gap-6 mt-4 justify-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Created"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Completed"})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"bg-white rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-black mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-3",children:t.recentActivity.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b border-gray-100 last:border-0",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 w-32 flex-shrink-0",children:e.date}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-black capitalize",children:e.action}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]})]},t))})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-lg",children:"Failed to load analytics"})})}}},function(e){e.O(0,[160,971,117,744],function(){return e(e.s=9206)}),_N_E=e.O()}]);